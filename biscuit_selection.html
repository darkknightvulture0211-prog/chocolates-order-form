<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Biscuits - Chocolates with Rangani's</title>
    <link rel="stylesheet" href="style.css">
    
    <style>
        .back-link {
            display: inline-block;
            margin-top: 1rem;
            color: #555;
            text-decoration: none;
            font-size: 0.9rem;
        }
        .back-link:hover {
            text-decoration: underline;
        }
        .button-group {
            display: flex;
            gap: 10px; 
            margin-top: 15px;
        }
        .button-group .btn {
            flex-grow: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="offerBanner" class="offer-banner">
            </div>
        
        <h1>Choose Your Biscuits</h1>
        
        <div class="item-list">
            <label><input type="checkbox" id="item-oreo"> Oreo (â‚¹10)</label>
            <label><input type="checkbox" id="item-goodday"> Good Day (â‚¹10)</label>
            <label><input type="checkbox" id="item-mariegold"> Marie Gold (â‚¹10)</label>
            <label><input type="checkbox" id="item-jimjam"> Jim Jam (â‚¹10)</label>
        </div>

        <div class="button-group">
            <button class="btn" onclick="saveBiscuits(true)">Add to Order</button>
            <button class="btn btn-secondary" onclick="saveBiscuits(false)">
                No Thanks
            </button>
        </div>

        <hr style="border:0; border-top: 1px solid #eee; margin: 1.5rem 0;">

        <a href="chocolates.html" class="back-link">&laquo; Go Back to Chocolates</a>
        
    </div>

    <script>
        // *** FUNCTION TO CHANGE THE OFFER ***
        function loadOffer() {
            const offerElement = document.getElementById('offerBanner');
            
            // =======================================================
            // *** CHANGE THIS LINE TO UPDATE THE OFFER ANY TIME ***
            // =======================================================
            const currentOffer = "ðŸª Biscuit Bonanza: Buy any two biscuits at â‚¹10! ðŸ¥³";
            
            offerElement.textContent = currentOffer;
        }

        document.addEventListener("DOMContentLoaded", () => {
            loadOffer(); // Load the offer when the page opens
            
            let order = JSON.parse(localStorage.getItem("order"));
            if (order && order.items) {
                if (order.items.includes("Oreo (â‚¹10)") || order.items.includes("Oreo (â‚¹20)")) { 
                    document.getElementById("item-oreo").checked = true;
                }
                if (order.items.includes("Good Day (â‚¹10)")) { document.getElementById("item-goodday").checked = true; }
                if (order.items.includes("Marie Gold (â‚¹10)")) { document.getElementById("item-mariegold").checked = true; }
                if (order.items.includes("Jim Jam (â‚¹10)")) { document.getElementById("item-jimjam").checked = true; }
            }
        });

        function saveBiscuits(didBuy) {
            let order = JSON.parse(localStorage.getItem("order")) || { items: [] };

            // Remove previous biscuit selections first
            let nonBiscuitItems = order.items.filter(item => 
                !item.startsWith("Oreo") && 
                !item.startsWith("Good Day") && 
                !item.startsWith("Marie Gold") &&
                !item.startsWith("Jim Jam")
            );

            // Add biscuits only if the user clicked "Add to Order"
            if (didBuy) {
                if (document.getElementById("item-oreo").checked) { 
                    nonBiscuitItems.push("Oreo (â‚¹10)"); 
                }
                if (document.getElementById("item-goodday").checked) { nonBiscuitItems.push("Good Day (â‚¹10)"); }
                if (document.getElementById("item-mariegold").checked) { nonBiscuitItems.push("Marie Gold (â‚¹10)"); }
                if (document.getElementById("item-jimjam").checked) { nonBiscuitItems.push("Jim Jam (â‚¹10)"); }
            }
            
            order.items = nonBiscuitItems;
            localStorage.setItem("order", JSON.stringify(order));

            // Proceed to membership
            window.location.href = 'membership.html';
        }
    </script>
</body>
</html>

